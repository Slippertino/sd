# Social Network X
## Резюме
В данном документе приведено описание архитектуры социальной сети.

## Терминология
- DAU - количество уникальных активных пользователей в день
- MAU - количество уникальных активных пользователей в месяц
- RPS - количество запросов к системе в секунду
- RPD - количество запросов к систему в день
- Rotation policy - политика хранения данных в системе
- C4 - язык описания архитектуры программного обеспечения

## Требования к системе
### Функциональные требования к системе
- Работа с пользователями
	- Регистрация и Аутентификация/Авторизация, восстановление пароля
	- Создание профиля, редактирование. Просмотр своего профиля и профиля других
	- Подписки, отписки на людей
	- Сообщения (переписка): написание, редактирование
	- Нотификации: сообщения, новые подписчики
- Работа с контентом
	- Посты: написание, редактирование, удаление, лайки/дизлайки, комментарии
	- Работа с лентой: отображение, ранжирование
	- Поиск по системе: посты, люди
	- Аналитика для пользователя: активность в течение месяца, наиболее популярные посты, люди (с кем чаще общался, кого чаще просматривал) и т.д.

### Нефункциональные требования к системе
- DAU = 30 mln
- MAU = 70 mln
- RPD per user (RPDPU): 60, r/w ratio: 40/20
- Геораспределенность: РФ
- Сезонность: праздники
- Вечная retation policy
- Критична лента, посты умеренно
- Устройства: Mobile & Desktop

### Аналитика
	Peak Multiplier (PM) = 2.5
	Off-Peak Multiplier (OM) = 0.5

	RPS = MAU * RPDPU / 86400 = 20834
	Max-RPS = PM * RPS = 52085
	Min-RPS = OM * RPS = 10417

	RPS-read = RPS / RPDPU * read-ratio = 13889
	Max-RPS-read = PM * RPS-read = 34723
	Min-RPS-read = OM * RPS-read = 6945

	RPS-write = RPS / RPDPU * write-ratio = 6945
	Max-RPS-write = PM * RPS-write = 17363
	Min-RPS-write = OM * RPS-write = 3473

### Архитектура системы
Для описания реализации системы будет использована нотация C4 и представлены уровни С1 и С2

<p align="center">
    <b>Уровень С1.</b> Сontext diagram
</p>

<p align="center">
  <img src="images/C1.svg" />
</p>

<p align="center">
    <b>Уровень С2.</b> Container diagram
</p>

<p align="center">
  <img src="images/C2.svg" />
</p>